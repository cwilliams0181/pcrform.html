
```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>EMS Patient Care Report (PCR)</title>
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      margin: 0;
      padding: 0;
      background: #f4f4f7;
      color: #222;
    }

    header {
      background: #1f2933;
      color: #fff;
      padding: 1rem 1.5rem;
    }

    header h1 {
      margin: 0;
      font-size: 1.4rem;
    }

    header small {
      display: block;
      margin-top: 0.25rem;
      opacity: 0.8;
    }

    main {
      padding: 1rem 1.5rem 2rem;
      max-width: 1100px;
      margin: 0 auto;
    }

    .tab-bar {
      display: flex;
      gap: 0.5rem;
      margin-bottom: 1rem;
      flex-wrap: wrap;
    }

    .tab-button {
      border: none;
      padding: 0.5rem 0.9rem;
      border-radius: 0.5rem;
      background: #e5e7eb;
      cursor: pointer;
      font-size: 0.9rem;
    }

    .tab-button.active {
      background: #2563eb;
      color: white;
    }

    .tab-content {
      display: none;
      background: white;
      padding: 1rem;
      border-radius: 0.75rem;
      box-shadow: 0 1px 4px rgba(15, 23, 42, 0.12);
      margin-bottom: 1rem;
    }

    .tab-content.active {
      display: block;
    }

    .tab-header {
      font-size: 0.85rem;
      margin-bottom: 0.75rem;
      padding-bottom: 0.4rem;
      border-bottom: 1px solid #e5e7eb;
      color: #4b5563;
    }

    .tab-header span {
      font-weight: 600;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 0.75rem 1rem;
    }

    label {
      font-size: 0.8rem;
      font-weight: 600;
      display: block;
      margin-bottom: 0.2rem;
    }

    input[type="text"],
    input[type="number"],
    input[type="datetime-local"],
    textarea,
    select {
      width: 100%;
      padding: 0.35rem 0.45rem;
      border-radius: 0.45rem;
      border: 1px solid #d1d5db;
      font-size: 0.9rem;
      box-sizing: border-box;
    }

    textarea {
      min-height: 90px;
      resize: vertical;
    }

    .section-title {
      margin: 0.8rem 0 0.4rem;
      font-size: 0.95rem;
      font-weight: 700;
      color: #111827;
    }

    .btn-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-top: 0.75rem;
    }

    .btn {
      border-radius: 999px;
      border: none;
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
      cursor: pointer;
    }

    .btn-primary {
      background: #2563eb;
      color: white;
    }

    .btn-outline {
      background: white;
      border: 1px solid #d1d5db;
      color: #374151;
    }

    .output-box {
      background: #f9fafb;
      padding: 0.8rem;
      border-radius: 0.5rem;
      border: 1px solid #e5e7eb;
      white-space: pre-wrap;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
        "Liberation Mono", "Courier New", monospace;
      font-size: 0.85rem;
    }

    .small-note {
      font-size: 0.75rem;
      color: #6b7280;
      margin-top: 0.3rem;
    }

    .gcs-score-box {
      margin-top: 0.75rem;
      padding: 0.5rem 0.75rem;
      border-radius: 0.5rem;
      border: 1px solid #e5e7eb;
      background: #f9fafb;
      font-size: 0.9rem;
    }
  </style>
</head>
<body>
  <header>
    <h1>EMS Patient Care Report</h1>
    <small>
      Online PCR form with auto-filled headers, 10 vital sets, GCS calculator, and structured times.
    </small>
  </header>

  <main>
    <div class="tab-bar">
      <button class="tab-button active" data-tab="incident">Incident</button>
      <button class="tab-button" data-tab="patient">Patient</button>
      <button class="tab-button" data-tab="assessment">Assessment</button>
      <button class="tab-button" data-tab="vitals">Vitals &amp; Treatments</button>
      <button class="tab-button" data-tab="times">Times &amp; Disposition</button>
      <button class="tab-button" data-tab="narrative">Narrative &amp; Output</button>
      <button class="tab-button" data-tab="gcs">GCS Calc</button>
    </div>

    <form id="pcrForm">
      <!-- INCIDENT TAB -->
      <section id="incident" class="tab-content active">
        <div class="tab-header">
          Run: <span class="auto-run">N/A</span> |
          Unit: <span class="auto-unit">N/A</span> |
          Date/Time: <span class="auto-date">N/A</span> |
          Patient: <span class="auto-patient">N/A</span>
        </div>

        <div class="grid">
          <div>
            <label for="runNumber">Run / Incident Number</label>
            <input type="text" id="runNumber" name="runNumber" placeholder="25-123456" />
          </div>
          <div>
            <label for="unitNumber">Unit ID</label>
            <input type="text" id="unitNumber" name="unitNumber" placeholder="Medic 1" />
          </div>
          <div>
            <label for="incidentDateTime">Incident Date &amp; Time</label>
            <input type="datetime-local" id="incidentDateTime" name="incidentDateTime" />
          </div>
          <div>
            <label for="crew">Crew Members</label>
            <input type="text" id="crew" name="crew" placeholder="Doe, Smith" />
          </div>
        </div>

        <div class="section-title">Location &amp; Chief Complaint</div>
        <div class="grid">
          <div>
            <label for="incidentLocation">Address / Location</label>
            <input type="text" id="incidentLocation" name="incidentLocation" placeholder="123 Main St, Apt 2B" />
          </div>
          <div>
            <label for="incidentCounty">County</label>
            <input type="text" id="incidentCounty" name="incidentCounty" placeholder="Lee County" />
          </div>
          <div>
            <label for="incidentLocationType">Location Type</label>
            <input type="text" id="incidentLocationType" name="incidentLocationType" placeholder="Home, street, public building, etc." />
          </div>
        </div>

        <div class="grid">
          <div>
            <label for="chiefComplaint">Chief Complaint (CC)</label>
            <input type="text" id="chiefComplaint" name="chiefComplaint" placeholder="Chest pain" />
          </div>
          <div>
            <label for="primaryImpression">Primary Impression</label>
            <input type="text" id="primaryImpression" name="primaryImpression" placeholder="ACS / MI suspected" />
          </div>
          <div>
            <label for="secondaryImpression">Secondary Impression</label>
            <input type="text" id="secondaryImpression" name="secondaryImpression" placeholder="Anxiety, nausea" />
          </div>
        </div>
      </section>

      <!-- PATIENT TAB -->
      <section id="patient" class="tab-content">
        <div class="tab-header">
          Run: <span class="auto-run">N/A</span> |
          Unit: <span class="auto-unit">N/A</span> |
          Date/Time: <span class="auto-date">N/A</span> |
          Patient: <span class="auto-patient">N/A</span>
        </div>

        <div class="section-title">Patient Information</div>
        <div class="grid">
          <div>
            <label for="patientFirstName">First Name</label>
            <input type="text" id="patientFirstName" name="patientFirstName" />
          </div>
          <div>
            <label for="patientLastName">Last Name</label>
            <input type="text" id="patientLastName" name="patientLastName" />
          </div>
          <div>
            <label for="age">Age</label>
            <input type="number" id="age" name="age" min="0" max="120" />
          </div>
          <div>
            <label for="sex">Sex</label>
            <select id="sex" name="sex">
              <option value="">Select…</option>
              <option>Male</option>
              <option>Female</option>
              <option>Nonbinary</option>
              <option>Unknown</option>
            </select>
          </div>
          <div>
            <label for="dob">Date of Birth</label>
            <input type="text" id="dob" name="dob" placeholder="MM/DD/YYYY" />
          </div>
          <div>
            <label for="weight">Weight (kg)</label>
            <input type="number" step="0.1" id="weight" name="weight" />
          </div>
        </div>

        <div class="section-title">Contact &amp; Location</div>
        <div class="grid">
          <div>
            <label for="patientAddress">Home Address</label>
            <input type="text" id="patientAddress" name="patientAddress" />
          </div>
          <div>
            <label for="phone">Phone</label>
            <input type="text" id="phone" name="phone" />
          </div>
        </div>

        <div class="section-title">History</div>
        <div class="grid">
          <div>
            <label for="allergies">Allergies</label>
            <input type="text" id="allergies" name="allergies" placeholder="NKDA or list" />
          </div>
          <div>
            <label for="medications">Medications</label>
            <input type="text" id="medications" name="medications" />
          </div>
        </div>
        <div>
          <label for="medicalHistory">Pertinent Medical History</label>
          <textarea id="medicalHistory" name="medicalHistory" placeholder="Hx DM, HTN, COPD, etc."></textarea>
        </div>
      </section>

      <!-- ASSESSMENT TAB -->
      <section id="assessment" class="tab-content">
        <div class="tab-header">
          Run: <span class="auto-run">N/A</span> |
          Unit: <span class="auto-unit">N/A</span> |
          Date/Time: <span class="auto-date">N/A</span> |
          Patient: <span class="auto-patient">N/A</span>
        </div>

        <div class="section-title">General Assessment (ABCs)</div>
        <div class="grid">
          <div>
            <label for="mentalStatus">Mental Status (AVPU)</label>
            <select id="mentalStatus" name="mentalStatus">
              <option value="">Select…</option>
              <option>Alert</option>
              <option>Verbal</option>
              <option>Pain</option>
              <option>Unresponsive</option>
            </select>
          </div>
          <div>
            <label for="airway">Airway</label>
            <select id="airway" name="airway">
              <option value="">Select…</option>
              <option>Patent</option>
              <option>Compromised</option>
              <option>Obstructed</option>
            </select>
          </div>
          <div>
            <label for="breathing">Breathing</label>
            <select id="breathing" name="breathing">
              <option value="">Select…</option>
              <option>Normal</option>
              <option>Increased work of breathing</option>
              <option>Labored</option>
              <option>Shallow</option>
              <option>Absent</option>
            </select>
          </div>
          <div>
            <label for="circulation">Circulation</label>
            <select id="circulation" name="circulation">
              <option value="">Select…</option>
              <option>Normal</option>
              <option>Weak pulses</option>
              <option>Pale</option>
              <option>Cool/clammy</option>
              <option>Mottled</option>
            </select>
          </div>
          <div>
            <label for="skin">Skin</label>
            <input type="text" id="skin" name="skin" placeholder="Pink, warm, dry" />
          </div>
          <div>
            <label for="pupils">Pupils</label>
            <input type="text" id="pupils" name="pupils" placeholder="PERRL" />
          </div>
        </div>

        <div class="section-title">Physical Findings</div>
        <div>
          <label for="findings">Focused / head-to-toe exam findings</label>
          <textarea id="findings" name="findings" placeholder="Describe exam findings…"></textarea>
        </div>
      </section>

      <!-- VITALS & TREATMENTS TAB -->
      <section id="vitals" class="tab-content">
        <div class="tab-header">
          Run: <span class="auto-run">N/A</span> |
          Unit: <span class="auto-unit">N/A</span> |
          Date/Time: <span class="auto-date">N/A</span> |
          Patient: <span class="auto-patient">N/A</span>
        </div>

        <!-- 10 VITAL SETS -->
        <div class="section-title">Vitals – Set 1</div>
        <div class="grid">
          <div><label for="vitalsTime1">Time</label><input type="text" id="vitalsTime1" name="vitalsTime1" placeholder="HH:MM" /></div>
          <div><label for="bp1">BP</label><input type="text" id="bp1" name="bp1" placeholder="120/80" /></div>
          <div><label for="hr1">HR</label><input type="number" id="hr1" name="hr1" placeholder="bpm" /></div>
          <div><label for="rr1">RR</label><input type="number" id="rr1" name="rr1" placeholder="breaths/min" /></div>
          <div><label for="spo2_1">SpO₂ %</label><input type="number" id="spo2_1" name="spo2_1" /></div>
          <div><label for="temp1">Temp (°F)</label><input type="number" step="0.1" id="temp1" name="temp1" /></div>
          <div><label for="pain1">Pain 0–10</label><input type="number" id="pain1" name="pain1" min="0" max="10" /></div>
          <div><label for="gcs1">GCS</label><input type="number" id="gcs1" name="gcs1" min="3" max="15" /></div>
        </div>

        <!-- Sets 2–10 (optional, same layout) -->
        <!-- Set 2 -->
        <div class="section-title">Vitals – Set 2 (optional)</div>
        <div class="grid">
          <div><label for="vitalsTime2">Time</label><input type="text" id="vitalsTime2" name="vitalsTime2" placeholder="HH:MM" /></div>
          <div><label for="bp2">BP</label><input type="text" id="bp2" name="bp2" placeholder="120/80" /></div>
          <div><label for="hr2">HR</label><input type="number" id="hr2" name="hr2" placeholder="bpm" /></div>
          <div><label for="rr2">RR</label><input type="number" id="rr2" name="rr2" placeholder="breaths/min" /></div>
          <div><label for="spo2_2">SpO₂ %</label><input type="number" id="spo2_2" name="spo2_2" /></div>
          <div><label for="temp2">Temp (°F)</label><input type="number" step="0.1" id="temp2" name="temp2" /></div>
          <div><label for="pain2">Pain 0–10</label><input type="number" id="pain2" name="pain2" min="0" max="10" /></div>
          <div><label for="gcs2">GCS</label><input type="number" id="gcs2" name="gcs2" min="3" max="15" /></div>
        </div>

        <!-- Set 3 -->
        <div class="section-title">Vitals – Set 3 (optional)</div>
        <div class="grid">
          <div><label for="vitalsTime3">Time</label><input type="text" id="vitalsTime3" name="vitalsTime3" placeholder="HH:MM" /></div>
          <div><label for="bp3">BP</label><input type="text" id="bp3" name="bp3" placeholder="120/80" /></div>
          <div><label for="hr3">HR</label><input type="number" id="hr3" name="hr3" placeholder="bpm" /></div>
          <div><label for="rr3">RR</label><input type="number" id="rr3" name="rr3" placeholder="breaths/min" /></div>
          <div><label for="spo2_3">SpO₂ %</label><input type="number" id="spo2_3" name="spo2_3" /></div>
          <div><label for="temp3">Temp (°F)</label><input type="number" step="0.1" id="temp3" name="temp3" /></div>
          <div><label for="pain3">Pain 0–10</label><input type="number" id="pain3" name="pain3" min="0" max="10" /></div>
          <div><label for="gcs3">GCS</label><input type="number" id="gcs3" name="gcs3" min="3" max="15" /></div>
        </div>

        <!-- Set 4 -->
        <div class="section-title">Vitals – Set 4 (optional)</div>
        <div class="grid">
          <div><label for="vitalsTime4">Time</label><input type="text" id="vitalsTime4" name="vitalsTime4" placeholder="HH:MM" /></div>
          <div><label for="bp4">BP</label><input type="text" id="bp4" name="bp4" placeholder="120/80" /></div>
          <div><label for="hr4">HR</label><input type="number" id="hr4" name="hr4" placeholder="bpm" /></div>
          <div><label for="rr4">RR</label><input type="number" id="rr4" name="rr4" placeholder="breaths/min" /></div>
          <div><label for="spo2_4">SpO₂ %</label><input type="number" id="spo2_4" name="spo2_4" /></div>
          <div><label for="temp4">Temp (°F)</label><input type="number" step="0.1" id="temp4" name="temp4" /></div>
          <div><label for="pain4">Pain 0–10</label><input type="number" id="pain4" name="pain4" min="0" max="10" /></div>
          <div><label for="gcs4">GCS</label><input type="number" id="gcs4" name="gcs4" min="3" max="15" /></div>
        </div>

        <!-- Set 5 -->
        <div class="section-title">Vitals – Set 5 (optional)</div>
        <div class="grid">
          <div><label for="vitalsTime5">Time</label><input type="text" id="vitalsTime5" name="vitalsTime5" placeholder="HH:MM" /></div>
          <div><label for="bp5">BP</label><input type="text" id="bp5" name="bp5" placeholder="120/80" /></div>
          <div><label for="hr5">HR</label><input type="number" id="hr5" name="hr5" placeholder="bpm" /></div>
          <div><label for="rr5">RR</label><input type="number" id="rr5" name="rr5" placeholder="breaths/min" /></div>
          <div><label for="spo2_5">SpO₂ %</label><input type="number" id="spo2_5" name="spo2_5" /></div>
          <div><label for="temp5">Temp (°F)</label><input type="number" step="0.1" id="temp5" name="temp5" /></div>
          <div><label for="pain5">Pain 0–10</label><input type="number" id="pain5" name="pain5" min="0" max="10" /></div>
          <div><label for="gcs5">GCS</label><input type="number" id="gcs5" name="gcs5" min="3" max="15" /></div>
        </div>

        <!-- Set 6 -->
        <div class="section-title">Vitals – Set 6 (optional)</div>
        <div class="grid">
          <div><label for="vitalsTime6">Time</label><input type="text" id="vitalsTime6" name="vitalsTime6" placeholder="HH:MM" /></div>
          <div><label for="bp6">BP</label><input type="text" id="bp6" name="bp6" placeholder="120/80" /></div>
          <div><label for="hr6">HR</label><input type="number" id="hr6" name="hr6" placeholder="bpm" /></div>
          <div><label for="rr6">RR</label><input type="number" id="rr6" name="rr6" placeholder="breaths/min" /></div>
          <div><label for="spo2_6">SpO₂ %</label><input type="number" id="spo2_6" name="spo2_6" /></div>
          <div><label for="temp6">Temp (°F)</label><input type="number" step="0.1" id="temp6" name="temp6" /></div>
          <div><label for="pain6">Pain 0–10</label><input type="number" id="pain6" name="pain6" min="0" max="10" /></div>
          <div><label for="gcs6">GCS</label><input type="number" id="gcs6" name="gcs6" min="3" max="15" /></div>
        </div>

        <!-- Set 7 -->
        <div class="section-title">Vitals – Set 7 (optional)</div>
        <div class="grid">
          <div><label for="vitalsTime7">Time</label><input type="text" id="vitalsTime7" name="vitalsTime7" placeholder="HH:MM" /></div>
          <div><label for="bp7">BP</label><input type="text" id="bp7" name="bp7" placeholder="120/80" /></div>
          <div><label for="hr7">HR</label><input type="number" id="hr7" name="hr7" placeholder="bpm" /></div>
          <div><label for="rr7">RR</label><input type="number" id="rr7" name="rr7" placeholder="breaths/min" /></div>
          <div><label for="spo2_7">SpO₂ %</label><input type="number" id="spo2_7" name="spo2_7" /></div>
          <div><label for="temp7">Temp (°F)</label><input type="number" step="0.1" id="temp7" name="temp7" /></div>
          <div><label for="pain7">Pain 0–10</label><input type="number" id="pain7" name="pain7" min="0" max="10" /></div>
          <div><label for="gcs7">GCS</label><input type="number" id="gcs7" name="gcs7" min="3" max="15" /></div>
        </div>

        <!-- Set 8 -->
        <div class="section-title">Vitals – Set 8 (optional)</div>
        <div class="grid">
          <div><label for="vitalsTime8">Time</label><input type="text" id="vitalsTime8" name="vitalsTime8" placeholder="HH:MM" /></div>
          <div><label for="bp8">BP</label><input type="text" id="bp8" name="bp8" placeholder="120/80" /></div>
          <div><label for="hr8">HR</label><input type="number" id="hr8" name="hr8" placeholder="bpm" /></div>
          <div><label for="rr8">RR</label><input type="number" id="rr8" name="rr8" placeholder="breaths/min" /></div>
          <div><label for="spo2_8">SpO₂ %</label><input type="number" id="spo2_8" name="spo2_8" /></div>
          <div><label for="temp8">Temp (°F)</label><input type="number" step="0.1" id="temp8" name="temp8" /></div>
          <div><label for="pain8">Pain 0–10</label><input type="number" id="pain8" name="pain8" min="0" max="10" /></div>
          <div><label for="gcs8">GCS</label><input type="number" id="gcs8" name="gcs8" min="3" max="15" /></div>
        </div>

        <!-- Set 9 -->
        <div class="section-title">Vitals – Set 9 (optional)</div>
        <div class="grid">
          <div><label for="vitalsTime9">Time</label><input type="text" id="vitalsTime9" name="vitalsTime9" placeholder="HH:MM" /></div>
          <div><label for="bp9">BP</label><input type="text" id="bp9" name="bp9" placeholder="120/80" /></div>
          <div><label for="hr9">HR</label><input type="number" id="hr9" name="hr9" placeholder="bpm" /></div>
          <div><label for="rr9">RR</label><input type="number" id="rr9" name="rr9" placeholder="breaths/min" /></div>
          <div><label for="spo2_9">SpO₂ %</label><input type="number" id="spo2_9" name="spo2_9" /></div>
          <div><label for="temp9">Temp (°F)</label><input type="number" step="0.1" id="temp9" name="temp9" /></div>
          <div><label for="pain9">Pain 0–10</label><input type="number" id="pain9" name="pain9" min="0" max="10" /></div>
          <div><label for="gcs9">GCS</label><input type="number" id="gcs9" name="gcs9" min="3" max="15" /></div>
        </div>

        <!-- Set 10 -->
        <div class="section-title">Vitals – Set 10 (optional)</div>
        <div class="grid">
          <div><label for="vitalsTime10">Time</label><input type="text" id="vitalsTime10" name="vitalsTime10" placeholder="HH:MM" /></div>
          <div><label for="bp10">BP</label><input type="text" id="bp10" name="bp10" placeholder="120/80" /></div>
          <div><label for="hr10">HR</label><input type="number" id="hr10" name="hr10" placeholder="bpm" /></div>
          <div><label for="rr10">RR</label><input type="number" id="rr10" name="rr10" placeholder="breaths/min" /></div>
          <div><label for="spo2_10">SpO₂ %</label><input type="number" id="spo2_10" name="spo2_10" /></div>
          <div><label for="temp10">Temp (°F)</label><input type="number" step="0.1" id="temp10" name="temp10" /></div>
          <div><label for="pain10">Pain 0–10</label><input type="number" id="pain10" name="pain10" min="0" max="10" /></div>
          <div><label for="gcs10">GCS</label><input type="number" id="gcs10" name="gcs10" min="3" max="15" /></div>
        </div>

        <!-- TREATMENTS -->
        <div class="section-title">Treatments</div>
        <div class="grid">
          <div>
            <label for="airwayManagement">Airway / Breathing Management</label>
            <input type="text" id="airwayManagement" name="airwayManagement" placeholder="O₂ via NRB, BVM, OPA/NPA, etc." />
          </div>
          <div>
            <label for="circulationManagement">Circulation / Bleeding Control</label>
            <input type="text" id="circulationManagement" name="circulationManagement" placeholder="Direct pressure, tourniquet, etc." />
          </div>
        </div>
        <div class="grid">
          <div>
            <label for="medsGiven">Medications Given</label>
            <textarea id="medsGiven" name="medsGiven" placeholder="Drug, dose, route, time, response…"></textarea>
          </div>
          <div>
            <label for="otherInterventions">Other Interventions</label>
            <textarea id="otherInterventions" name="otherInterventions" placeholder="Splinting, bandaging, positioning, spinal precautions, etc."></textarea>
          </div>
        </div>
      </section>

      <!-- TIMES & DISPOSITION TAB -->
      <section id="times" class="tab-content">
        <div class="tab-header">
          Run: <span class="auto-run">N/A</span> |
          Unit: <span class="auto-unit">N/A</span> |
          Date/Time: <span class="auto-date">N/A</span> |
          Patient: <span class="auto-patient">N/A</span>
        </div>

        <div class="section-title">Times</div>
        <div class="grid">
          <div>
            <label for="timeCallReceived">Call received</label>
            <input type="text" id="timeCallReceived" name="timeCallReceived" placeholder="HH:MM" />
          </div>
          <div>
            <label for="timeEnRoute">En route</label>
            <input type="text" id="timeEnRoute" name="timeEnRoute" placeholder="HH:MM" />
          </div>
          <div>
            <label for="timeOnScene">On scene</label>
            <input type="text" id="timeOnScene" name="timeOnScene" placeholder="HH:MM" />
          </div>
          <div>
            <label for="timePatientContact">Patient contact</label>
            <input type="text" id="timePatientContact" name="timePatientContact" placeholder="HH:MM" />
          </div>
          <div>
            <label for="timeDepartScene">Depart scene</label>
            <input type="text" id="timeDepartScene" name="timeDepartScene" placeholder="HH:MM" />
          </div>
          <div>
            <label for="timeArriveDest">Arrive destination</label>
            <input type="text" id="timeArriveDest" name="timeArriveDest" placeholder="HH:MM" />
          </div>
          <div>
            <label for="timeInService">In service</label>
            <input type="text" id="timeInService" name="timeInService" placeholder="HH:MM" />
          </div>
        </div>

        <div class="section-title">Destination & Disposition</div>
        <div class="grid">
          <div>
            <label for="destination">Destination (hospital / facility)</label>
            <input type="text" id="destination" name="destination" placeholder="Example: East Alabama Medical Center" />
          </div>
          <div>
            <label for="destinationType">Destination Type</label>
            <select id="destinationType" name="destinationType">
              <option value="">Select…</option>
              <option>Hospital ED/OR/L&D</option>
              <option>Other EMS (ground)</option>
              <option>Other EMS (air)</option>
              <option>Nursing home / SNF</option>
              <option>Other</option>
            </select>
          </div>
          <div>
            <label for="destinationReason">Reason for choosing destination</label>
            <select id="destinationReason" name="destinationReason">
              <option value="">Select…</option>
              <option>Closest</option>
              <option>Patient choice</option>
              <option>Patient’s physician</option>
              <option>Diversion / bypass</option>
              <option>Protocol / medical control</option>
              <option>Family choice</option>
              <option>Other</option>
            </select>
          </div>
        </div>

        <div class="grid">
          <div>
            <label for="advanceDirective">Advance directive present?</label>
            <select id="advanceDirective" name="advanceDirective">
              <option value="">Select…</option>
              <option>None</option>
              <option>State DNR</option>
              <option>Living will</option>
              <option>Other</option>
            </select>
          </div>
          <div>
            <label for="finalDisposition">Final disposition</label>
            <select id="finalDisposition" name="finalDisposition">
              <option value="">Select…</option>
              <option>Treated & transported</option>
              <option>Treated & released (AMA)</option>
              <option>Treated & released (no transport)</option>
              <option>No patient found</option>
              <option>Dead at scene</option>
              <option>Cancelled en route</option>
            </select>
          </div>
        </div>

        <div>
          <label for="crewNames">Crew members (names & roles)</label>
          <textarea id="crewNames" name="crewNames" placeholder="EMT-B Smith (primary), EMT-A Jones (driver), etc."></textarea>
        </div>
      </section>

      <!-- NARRATIVE TAB -->
      <section id="narrative" class="tab-content">
        <div class="tab-header">
          Run: <span class="auto-run">N/A</span> |
          Unit: <span class="auto-unit">N/A</span> |
          Date/Time: <span class="auto-date">N/A</span> |
          Patient: <span class="auto-patient">N/A</span>
        </div>

        <div class="section-title">Generated Narrative</div>
        <textarea id="narrativeText" placeholder="Click 'Generate Narrative' to auto-fill this, then edit as needed."></textarea>
        <div class="small-note">
          This is a template-based narrative generated from the fields you entered.
          You are responsible for accuracy and completeness.
        </div>

        <div class="btn-row">
          <button type="button" class="btn btn-primary" id="generateNarrativeBtn">
            Generate Narrative
          </button>
          <button type="button" class="btn btn-outline" id="copyNarrativeBtn">
            Copy Narrative
          </button>
          <button type="button" class="btn btn-outline" id="printBtn">
            Print / Save as PDF
          </button>
        </div>

        <div class="section-title">Quick Summary (for QA / handoff)</div>
        <div id="summaryBox" class="output-box">
          Summary will appear here after you generate the narrative.
        </div>
      </section>

      <!-- GCS CALCULATOR TAB -->
      <section id="gcs" class="tab-content">
        <div class="tab-header">
          Run: <span class="auto-run">N/A</span> |
          Unit: <span class="auto-unit">N/A</span> |
          Date/Time: <span class="auto-date">N/A</span> |
          Patient: <span class="auto-patient">N/A</span>
        </div>

        <div class="section-title">Glasgow Coma Scale Calculator</div>
        <div class="grid">
          <div>
            <label for="gcsEye">Eye opening (E)</label>
            <select id="gcsEye">
              <option value="">Select…</option>
              <option value="4">4 – Spontaneous</option>
              <option value="3">3 – To sound</option>
              <option value="2">2 – To pressure</option>
              <option value="1">1 – None</option>
            </select>
          </div>
          <div>
            <label for="gcsVerbal">Verbal response (V)</label>
            <select id="gcsVerbal">
              <option value="">Select…</option>
              <option value="5">5 – Oriented</option>
              <option value="4">4 – Confused</option>
              <option value="3">3 – Words</option>
              <option value="2">2 – Sounds</option>
              <option value="1">1 – None</option>
            </select>
          </div>
          <div>
            <label for="gcsMotor">Motor response (M)</label>
            <select id="gcsMotor">
              <option value="">Select…</option>
              <option value="6">6 – Obeys commands</option>
              <option value="5">5 – Localises pain</option>
              <option value="4">4 – Normal flexion</option>
              <option value="3">3 – Abnormal flexion</option>
              <option value="2">2 – Extension</option>
              <option value="1">1 – None</option>
            </select>
          </div>
        </div>

        <div class="btn-row">
          <button type="button" class="btn btn-primary" id="calcGcsBtn">
            Calculate GCS
          </button>
        </div>

        <div class="gcs-score-box">
          <div><strong>Total GCS:</strong> <span id="gcsTotalDisplay">--</span></div>
          <div><strong>Category:</strong> <span id="gcsCategoryDisplay">--</span></div>
          <div class="small-note">
            Mild: 13–15 &nbsp;|&nbsp; Moderate: 9–12 &nbsp;|&nbsp; Severe: 3–8
          </div>
        </div>

        <div class="section-title">Apply to Vitals Set</div>
        <div class="grid">
          <div>
            <label for="gcsApplySet">Apply score to GCS field in Vitals Set:</label>
            <select id="gcsApplySet">
              <option value="">Select set…</option>
              <option value="1">Set 1</option>
              <option value="2">Set 2</option>
              <option value="3">Set 3</option>
              <option value="4">Set 4</option>
              <option value="5">Set 5</option>
              <option value="6">Set 6</option>
              <option value="7">Set 7</option>
              <option value="8">Set 8</option>
              <option value="9">Set 9</option>
              <option value="10">Set 10</option>
            </select>
          </div>
        </div>

        <div class="btn-row">
          <button type="button" class="btn btn-outline" id="applyGcsBtn">
            Apply GCS to selected vitals set
          </button>
        </div>
      </section>
    </form>
  </main>

  <script>
    // ----- TAB HANDLING -----
    const tabButtons = document.querySelectorAll(".tab-button");
    const tabContents = document.querySelectorAll(".tab-content");

    tabButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        const target = btn.getAttribute("data-tab");

        tabButtons.forEach(b => b.classList.remove("active"));
        tabContents.forEach(c => c.classList.remove("active"));

        btn.classList.add("active");
        document.getElementById(target).classList.add("active");
      });
    });

    // ----- AUTO FILL HEADERS -----
    const runInput = document.getElementById("runNumber");
    const unitInput = document.getElementById("unitNumber");
    const dateInput = document.getElementById("incidentDateTime");
    const firstNameInput = document.getElementById("patientFirstName");
    const lastNameInput = document.getElementById("patientLastName");

    const autoRunSpans = document.querySelectorAll(".auto-run");
    const autoUnitSpans = document.querySelectorAll(".auto-unit");
    const autoDateSpans = document.querySelectorAll(".auto-date");
    const autoPatientSpans = document.querySelectorAll(".auto-patient");

    function updateAutoHeaders() {
      const run = (runInput.value || "").trim() || "N/A";
      const unit = (unitInput.value || "").trim() || "N/A";
      const dt = (dateInput.value || "").trim() || "N/A";
      const patientName =
        (firstNameInput.value + " " + lastNameInput.value).trim() || "N/A";

      autoRunSpans.forEach(span => (span.textContent = run));
      autoUnitSpans.forEach(span => (span.textContent = unit));
      autoDateSpans.forEach(span => (span.textContent = dt));
      autoPatientSpans.forEach(span => (span.textContent = patientName));
    }

    [runInput, unitInput, dateInput, firstNameInput, lastNameInput].forEach(el => {
      el.addEventListener("input", updateAutoHeaders);
    });

    function safe(v) {
      return (v || "").toString().trim();
    }

    // ----- GCS CALCULATOR -----
    let lastGcsScore = null;

    function calcGcs() {
      const eyeVal = parseInt(document.getElementById("gcsEye").value || "0", 10);
      const verbalVal = parseInt(document.getElementById("gcsVerbal").value || "0", 10);
      const motorVal = parseInt(document.getElementById("gcsMotor").value || "0", 10);

      if (!eyeVal || !verbalVal || !motorVal) {
        lastGcsScore = null;
        document.getElementById("gcsTotalDisplay").textContent = "--";
        document.getElementById("gcsCategoryDisplay").textContent =
          "Select eye, verbal, and motor responses.";
        return;
      }

      const total = eyeVal + verbalVal + motorVal;
      lastGcsScore = total;

      document.getElementById("gcsTotalDisplay").textContent = total.toString();

      let category = "";
      if (total >= 13) category = "Mild (13–15)";
      else if (total >= 9) category = "Moderate (9–12)";
      else category = "Severe (3–8)";

      document.getElementById("gcsCategoryDisplay").textContent = category;
    }

    document.getElementById("calcGcsBtn").addEventListener("click", calcGcs);

    document.getElementById("applyGcsBtn").addEventListener("click", () => {
      if (lastGcsScore === null) {
        alert("Calculate a GCS score first.");
        return;
      }
      const setVal = document.getElementById("gcsApplySet").value;
      if (!setVal) {
        alert("Select which vitals set to apply the GCS score to.");
        return;
      }
      const gcsField = document.getElementById("gcs" + setVal);
      if (!gcsField) {
        alert("Could not find that GCS field.");
        return;
      }
      gcsField.value = lastGcsScore;
      alert("GCS " + lastGcsScore + " applied to Vitals Set " + setVal + ".");
    });

    // ----- NARRATIVE GENERATION -----
    function generateNarrative() {
      const unit = safe(unitInput.value);
      const crew = safe(document.getElementById("crew").value);
      const run = safe(runInput.value);
      const dt = safe(dateInput.value);
      const loc = safe(document.getElementById("incidentLocation").value);
      const county = safe(document.getElementById("incidentCounty").value);
      const locType = safe(document.getElementById("incidentLocationType").value);
      const cc = safe(document.getElementById("chiefComplaint").value);
      const prim = safe(document.getElementById("primaryImpression").value);
      const sec = safe(document.getElementById("secondaryImpression").value);

      const first = safe(firstNameInput.value);
      const last = safe(lastNameInput.value);
      const age = safe(document.getElementById("age").value);
      const sex = safe(document.getElementById("sex").value);
      const hx = safe(document.getElementById("medicalHistory").value);
      const meds = safe(document.getElementById("medications").value);
      const allergies = safe(document.getElementById("allergies").value);

      const mental = safe(document.getElementById("mentalStatus").value);
      const airway = safe(document.getElementById("airway").value);
      const breathing = safe(document.getElementById("breathing").value);
      const circulation = safe(document.getElementById("circulation").value);
      const skin = safe(document.getElementById("skin").value);
      const pupils = safe(document.getElementById("pupils").value);
      const findings = safe(document.getElementById("findings").value);

      const airwayMgmt = safe(document.getElementById("airwayManagement").value);
      const circMgmt = safe(document.getElementById("circulationManagement").value);
      const medsGiven = safe(document.getElementById("medsGiven").value);
      const otherInterventions = safe(document.getElementById("otherInterventions").value);

      // TIMES (new individual fields)
      const tCall = safe(document.getElementById("timeCallReceived").value);
      const tEnRoute = safe(document.getElementById("timeEnRoute").value);
      const tScene = safe(document.getElementById("timeOnScene").value);
      const tContact = safe(document.getElementById("timePatientContact").value);
      const tDepart = safe(document.getElementById("timeDepartScene").value);
      const tArrive = safe(document.getElementById("timeArriveDest").value);
      const tService = safe(document.getElementById("timeInService").value);

      const destination = safe(document.getElementById("destination").value);
      const destinationType = safe(document.getElementById("destinationType").value);
      const destinationReason = safe(document.getElementById("destinationReason").value);
      const advanceDirective = safe(document.getElementById("advanceDirective").value);
      const finalDisposition = safe(document.getElementById("finalDisposition").value);
      const crewNames = safe(document.getElementById("crewNames").value);

      const patientName = (first + " " + last).trim() || "patient";

      let lines = [];

      // Dispatch / arrival
      lines.push(
        `Unit ${unit || "___"} (crew: ${crew || crewNames || "___"}) was dispatched on run ${
          run || "___"
        } on ${dt || "___"} to ${loc || "___"} ${
          county ? "in " + county + " County" : ""
        } (${locType || "location type not specified"}) for a ${
          age || "___"
        }-year-old ${sex || "patient"} with chief complaint of ${cc || "___"}.`
      );

      // General patient info / history
      lines.push(
        `${patientName} is a ${age || "___"}-year-old ${
          sex || "patient"
        }. Relevant medical history: ${hx || "not reported"}. Medications: ${
          meds || "not reported"
        }. Allergies: ${allergies || "none reported / NKDA"}.`
      );

      // Initial assessment
      lines.push(
        `On initial assessment, mental status was ${mental || "___"}. Airway was ${
          airway || "___"
        }. Breathing was ${breathing || "___"}. Circulation was ${
          circulation || "___"
        }. Skin: ${skin || "___"}. Pupils: ${pupils || "___"}.`
      );

      if (findings) {
        lines.push(`Focused/secondary exam findings: ${findings}`);
      }

      // Helper to build vitals lines
      function buildVitalsLine(label, obj) {
        const { time, bp, hr, rr, spo2, temp, pain, gcs } = obj;
        if (!(time || bp || hr || rr || spo2 || temp || pain || gcs)) return null;

        let line = `${label} at ${time || "___"}: `;
        if (bp) line += `BP ${bp}; `;
        if (hr) line += `HR ${hr} bpm; `;
        if (rr) line += `RR ${rr} breaths/min; `;
        if (spo2) line += `SpO₂ ${spo2}%; `;
        if (temp) line += `Temp ${temp}°F; `;
        if (pain) line += `Pain ${pain}/10; `;
        if (gcs) line += `GCS ${gcs}.`;
        return line.trim();
      }

      // Collect up to 10 vitals sets
      const vitalsSets = [];
      for (let i = 1; i <= 10; i++) {
        vitalsSets.push({
          time: safe(document.getElementById("vitalsTime" + i).value),
          bp: safe(document.getElementById("bp" + i).value),
          hr: safe(document.getElementById("hr" + i).value),
          rr: safe(document.getElementById("rr" + i).value),
          spo2: safe(document.getElementById("spo2_" + i).value),
          temp: safe(document.getElementById("temp" + i).value),
          pain: safe(document.getElementById("pain" + i).value),
          gcs: safe(document.getElementById("gcs" + i).value)
        });
      }

      // Add vitals lines
      vitalsSets.forEach((set, idx) => {
        const label =
          idx === 0
            ? "Initial vitals"
            : `Reassessment vitals (Set ${idx + 1})`;
        const line = buildVitalsLine(label, set);
        if (line) lines.push(line);
      });

      // Treatments
      if (airwayMgmt || circMgmt || medsGiven || otherInterventions) {
        let treatLines = [];
        if (airwayMgmt)
          treatLines.push(`Airway/respiratory management: ${airwayMgmt}`);
        if (circMgmt)
          treatLines.push(`Circulation/bleeding management: ${circMgmt}`);
        if (medsGiven) treatLines.push(`Medications given: ${medsGiven}`);
        if (otherInterventions)
          treatLines.push(`Other interventions: ${otherInterventions}`);
        lines.push(`Treatments provided: ${treatLines.join(" ")}`);
      }

      // Times sentence
      const timePieces = [];
      if (tCall) timePieces.push(`Call received ${tCall}`);
      if (tEnRoute) timePieces.push(`En route ${tEnRoute}`);
      if (tScene) timePieces.push(`On scene ${tScene}`);
      if (tContact) timePieces.push(`Patient contact ${tContact}`);
      if (tDepart) timePieces.push(`Depart scene ${tDepart}`);
      if (tArrive) timePieces.push(`Arrive destination ${tArrive}`);
      if (tService) timePieces.push(`In service ${tService}`);

      if (timePieces.length > 0) {
        lines.push(`Times: ${timePieces.join("; ")}.`);
      }

      // Destination / disposition
      if (destination || destinationType || destinationReason) {
        lines.push(
          `Patient was transported to ${destination || "receiving facility"}${
            destinationType ? " (" + destinationType + ")" : ""
          } for further evaluation and management. Reason for destination selection: ${
            destinationReason || "not documented"
          }.`
        );
      }

      if (advanceDirective) {
        lines.push(`Advance directive on scene: ${advanceDirective}.`);
      }

      if (finalDisposition) {
        lines.push(`Final disposition: ${finalDisposition}.`);
      }

      // Impression
      if (prim || sec) {
        lines.push(
          `Primary impression: ${prim || "___"}. Secondary impression: ${
            sec || "none"
          }.`
        );
      }

      // Transport / handoff
      lines.push(
        "Patient was monitored en route with reassessments as indicated. Patient care and report were transferred to receiving facility staff at bedside."
      );

      const narrativeText = lines.join("\n\n");
      const narrativeBox = document.getElementById("narrativeText");
      narrativeBox.value = narrativeText;

      // Quick summary box (uses Set 1)
      const firstSet = vitalsSets[0] || {};
      const summaryLines = [
        `Run ${run || "___"} – ${patientName} – ${age || "?"} y/o ${
          sex || "patient"
        } – CC: ${cc || "___"}`,
        `Impression: ${prim || "___"}`,
        `Initial vitals: BP ${firstSet.bp || "___"}, HR ${firstSet.hr || "___"}, RR ${
          firstSet.rr || "___"
        }, SpO₂ ${firstSet.spo2 || "___"}, Pain ${firstSet.pain || "___"}, GCS ${
          firstSet.gcs || "___"
        }`,
        `Key treatments: ${airwayMgmt || ""} ${circMgmt || ""} ${
          medsGiven && "[meds given]"
        } ${otherInterventions && "[other interventions]"}`
      ];
      document.getElementById("summaryBox").textContent =
        summaryLines.join("\n");
    }

    document
      .getElementById("generateNarrativeBtn")
      .addEventListener("click", generateNarrative);

    // Copy narrative
    document
      .getElementById("copyNarrativeBtn")
      .addEventListener("click", async () => {
        const text = document.getElementById("narrativeText").value;
        try {
          await navigator.clipboard.writeText(text);
          alert("Narrative copied to clipboard.");
        } catch (e) {
          alert("Unable to copy. Please select and copy manually.");
        }
      });

    // Print
    document.getElementById("printBtn").addEventListener("click", () => {
      window.print();
    });

    // Initialize headers once
    updateAutoHeaders();
  </script>
</body>
</html>
```
